# Backend ðŸ’»

[![Apollo-GraphQL](https://img.shields.io/badge/-ApolloGraphQL-311C87?style=for-the-badge&logo=apollo-graphql)](https://www.apollographql.com/)[![Express.js](https://img.shields.io/badge/express.js-%23404d59.svg?style=for-the-badge&logo=express&logoColor=%2361DAFB)](https://expressjs.com/)[![TypeScript](https://img.shields.io/badge/typescript-%23007ACC.svg?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)[![ESLint](https://img.shields.io/badge/ESLint-4B3263?style=for-the-badge&logo=eslint&logoColor=white)](https://eslint.org/)[![Jest](https://img.shields.io/badge/-jest-%23C21325?style=for-the-badge&logo=jest&logoColor=white)](https://jestjs.io/)[![.ENV](https://img.shields.io/badge/.ENV-22272e?style=for-the-badge&logo=.env)](https://github.com/motdotla/dotenv#readme)[![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)

Our robust backend system seamlessly connects and manages your IoT ecosystem. It efficiently retrieves data from ESP32 devices via MQTT and securely stores it in a database for future analysis and reference.
It also provides a GraphQL API tailored for our mobile application, providing a user-friendly interface to access your data. With user authentication features, it ensures that your data is only accessible to authorised individuals, increasing security and control. This backend is the trusted guardian of your data, providing seamless access, storage and protection for your IoT ecosystem.

## Run locally

### Set environment variables (.env):

```bash
PORT=4000
MONGODB_USER=root
MONGODB_PASSWORD=pass
MONGODB_URI=mongodb://root:pass@127.0.0.1:27017
SECRET_ACCESS_KEY=secret
SECRET_REFRESH_KEY=secret
```

### Running in a production environment

```bash
npm run docker:prod
```

## Folder structure

```bash
â”œâ”€â”€ coverage                 # Tests coverage
â”œâ”€â”€ dist                     # Built library
â”œâ”€â”€ node_modules
â”œâ”€â”€ src                      # The main python package for the project
â”‚   â”œâ”€â”€ __generated__        # Types generated by codegen
â”‚   â”œâ”€â”€ constants            # A list of constants
â”‚   â”œâ”€â”€ providers            # Contains files responsible for working to external APIs, database, etc.
â”‚   â”œâ”€â”€ resolvers            # GraphQL resolvers
â”‚   â”œâ”€â”€ utils                # Contains helper files
â”‚   â””â”€â”€ index.ts             # The entry point for the project
â”œâ”€â”€ tests                    # Unit tests for the project
â”œâ”€â”€ .eslintignore            # A list of files to ignore by ESLint
â”œâ”€â”€ .eslintrc.json           # ESLint configuration
â”œâ”€â”€ .gitignore               # A list of files to ignore when pushing to Github
â”œâ”€â”€ codegen.yml              # Generate types from your GraphQL schema 
â”œâ”€â”€ docker-compose.yaml        
â”œâ”€â”€ Dockerfile               
â”œâ”€â”€ jest.config.json         # Jest configuration
â”œâ”€â”€ package-lock.json        
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md                # The readme for the backend
â”œâ”€â”€ schema.graphql           # GraphQL schema 
â””â”€â”€ tsconfig.json            # TypeScript configuration
```
